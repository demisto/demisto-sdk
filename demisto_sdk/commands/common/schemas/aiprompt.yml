type: map
mapping:
  commonfields:
    type: map
    required: true
    mapping:
      id:
        type: str
        required: true
      version:
        type: int
        required: true
  name:
    type: str
    required: true
  prettyName:
    type: str
  type:
    type: str
    required: true
    enum: ['aiprompt']
  comment:
    type: str
  tags:
    type: seq
    sequence:
    - type: str
  category:
    type: str
  userprompt:
    type: str
    required: true
  systemprompt:
    type: str
  fewshots:
    type: str
  promptConfig:
    type: map
    mapping:
      temperature:
        type: number
      maxOutputTokens:
        type: int
      webSearch:
        type: bool
  preScript:
    type: str
  postScript:
    type: str
  arguments:
    type: seq
    sequence:
    - include: argument_schema
  outputs:
    type: seq
    sequence:
    - include: output_schema
  isInternal:
    type: bool
  isAnonymous:
    type: bool
  enabled:
    type: bool
  system:
    type: bool
  locked:
    type: bool
  deprecated:
    type: bool
  sensitive:
    type: bool
  hidden:
    type: bool
  private:
    type: bool
  runAs:
    type: str
  timeout:
    type: text
  pswd:
    type: str
  sourceScripID:
    type: str
  compliantpolicies:
    type: seq
    sequence:
    - type: str
  fromversion:
    type: text
  toversion:
    type: text
  marketplaces:
    type: seq
    sequence:
    - type: str
      enum: ['platform']
  supportedModules:
    type: seq
    sequence:
    - type: str
  tests:
    type: seq
    sequence:
    - type: str

schema;argument_schema:
  type: map
  mapping:
    name:
      type: str
      required: true
    description:
      type: str
      required: true
    type:
      type: str
      required: true
    required:
      type: bool
    defaultvalue:
      type: str
    hidden:
      type: bool
    disabled:
      type: bool

schema;output_schema:
  type: map
  mapping:
    contextPath:
      type: str
    description:
      type: str
      required: true
    type:
      type: str
