commonfields:
  id: PagerDuty v3
  version: 123
name: PagerDuty v3
display: PagerDuty v3
category: Messaging
image: data:image/png;base64,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
description: Alert and notify users using PagerDuty
configuration:
- display: API Key
  name: APIKey
  defaultvalue: ""
  type: 4
  required: true
- display: Service Key (for triggering events only)
  name: ServiceKey
  defaultvalue: ""
  type: 0
  required: false
script:
  feed: True
  script: |
    demisto.results('ok')
  type: python
  commands:
  - name: PagerDutyGetAllSchedules
    arguments:
    - name: query
      description: Show only the schedules whose name matches the query
    - name: requesterID
      description: The user id of the user making the request. This will be used to
        generate the calendar private urls. This is only needed if you are using token
        based authentication.
    outputs:
    - contextPath: PagerDuty.Schedules
      description: schedules
      type: string
    description: Receive all schedules from PagerDuty
  - name: PagerDutyGetUsersOnCall
    arguments:
    - name: scheduleID
      required: true
      default: true
      description: (default and mandatory) The unique identifier of the schdule
    - name: since
      description: The start of the date range Using ISO 8601 Representation. E.g.
        !PagerDutyGetUsersOnCall since=2011-05-06T17:00Z
    - name: until
      description: The end of the date range
    outputs:
    - contextPath: PagerDutyUser.id
      description: User's ID
      type: string
    - contextPath: PagerDutyUser.Emails
      description: Email of user
      type: string
    - contextPath: PagerDutyUser.Username
      description: Username of person
      type: string
    - contextPath: PagerDutyUser.DisplayName
      description: Display name of person
      type: string
    - contextPath: PagerDutyUser.Role
      description: Display role of person
      type: string
    description: Returns the names and details of on call users at a certain time
      or by specific schedule
  - name: PagerDutyGetUsersOnCallNow
    arguments:
    - name: query
      description: show only the names matching the query
    outputs:
    - contextPath: PagerDutyUser.ID
      description: User's ID
      type: string
    - contextPath: PagerDutyUser.Email
      description: Email of user
      type: string
    - contextPath: PagerDutyUser.Username
      description: Username of person
      type: string
    - contextPath: PagerDutyUser.DisplayName
      description: Display name of person
      type: string
    - contextPath: PagerDutyUser.Role
      description: Role of person
      type: string
    description: Returns the names and details of current on call personnel
  - name: PagerDutyIncidents
    arguments:
    - name: status
      auto: PREDEFINED
      predefined:
      - triggered
      - acknowledged
      - resolved
      description: Returns only the incidents currently in the passed status(es).
        Valid status options are triggered,acknowledged, and resolved
    - name: since
      description: Beginning date and time. Using ISO 8601 Representation. E.g. PagerDutyIncidents
        since=2011-05-06T17:00Z
    - name: sortBy
      description: 'Used to specify both the field you wish to sort the results on,
        as well as the direction (ascending/descending) of the results.See more https://developer.pagerduty.com/documentation/rest/incidents/list '
    - name: until
      description: Last date and time.  Using ISO 8601 Representation. E.g. PagerDutyIncidents
        until=2016-05-06T13:00Z
    outputs:
    - contextPath: PagerDuty.Incidents
      description: All incidents
    description: Shows incidents in PagerDuty
  - name: PagerDutySubmitEvent
    arguments:
    - name: author
      required: true
      description: The email address of a valid user associated with the account making
        the request.
    - name: title
      required: true
      description: The name of the incident you create
    - name: description
      description: A short description of the problem
    outputs:
    - contextPath: PagerDuty.Event
      description: Event data
    description: Creates a new event/incident in PagerDuty
  - name: PagerDutyGetContactMethods
    arguments:
    - name: UserID
      required: true
      description: 'ID of the wanted user '
    outputs:
    - contextPath: PagerDuty.Contact_methods.address
      description: The address of the user
      type: string
    - contextPath: PagerDuty.Contact_methods.id
      description: ID of the contact method
      type: string
    - contextPath: PagerDuty.Contact_methods.type
      description: The type of the current contact method
      type: string
    description: Get the contact methods of a given user
  - name: PagerDutyGetUsersNotification
    arguments:
    - name: UserID
      required: true
      description: ID of the wanted user
    outputs:
    - contextPath: PagerDuty.Notification_rules.PagerDuty.Notification_rules.start_delay_in_minutes
      description: The delay time for notifying the user
      type: string
    - contextPath: PagerDuty.Notification_rules.PagerDuty.Notification_rules.urgency
      description: The urgency of the notification
      type: string
    - contextPath: PagerDuty.Notification_rules.id
      description: The id of the notification rule
      type: string
    description: Get the users notification rules
  runonce: false
hidden: false
tests:
  - Non configured test
